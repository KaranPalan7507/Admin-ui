(this["webpackJsonpadmin-ui"]=this["webpackJsonpadmin-ui"]||[]).push([[0],{31:function(e,t,n){},38:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),a=n(15),l=n.n(a),r=(n(38),n(17)),s=n(7),o=n(12),d=n(3),u=n(32),j=n.n(u);var b=n(5),m=n(6),f=n(0);function O(e){var t=e.data,n=e.keys,c=e.columns,i=e.onDelete,a=e.onEdit,l=e.onRecordSelectionChange,r=e.onSelectAllChange,s=e.selectedRecords,o=e.selectAll,d=e.onSort;return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("table",{children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{className:"checkbox",children:Object(f.jsx)("input",{type:"checkbox",checked:o,onChange:function(e){return r(e.target.checked)}})}),c.map((function(e,t){return Object(f.jsx)("th",{className:e,onClick:function(){return d(n[t])},children:e},e)})),Object(f.jsx)("th",{children:"Actions"})]})}),Object(f.jsx)("tbody",{children:t.map((function(e){return t=e,Object(f.jsxs)("tr",{className:s[t.id]?"row-selected row":"row",children:[Object(f.jsx)("td",{className:"checkbox",children:Object(f.jsx)("input",{type:"checkbox",checked:s[t.id]||!1,onChange:function(e){return l(t.id,e.target.checked)}})}),n.map((function(e){return Object(f.jsx)("td",{className:e,children:t[e]},t[e])})),Object(f.jsxs)("td",{children:[Object(f.jsx)("button",{onClick:function(){return a(t)},className:"action-btn edit-btn",children:Object(f.jsx)(b.a,{icon:m.e})}),Object(f.jsx)("button",{onClick:function(){return i(t)},className:"action-btn delete-btn",children:Object(f.jsx)(b.a,{icon:m.f})})]})]},t.id);var t}))})]})})}n(61);function h(e){var t=e.total,n=e.perPageRecords,c=e.onPageChange,i=e.currentPage,a=Math.ceil(t/n);return Object(f.jsxs)("div",{className:"pagination",children:[Object(f.jsx)("button",{onClick:function(){return c(1)},disabled:1===i,className:"pagination-button",children:Object(f.jsx)(b.a,{icon:m.a})}),Object(f.jsx)("button",{onClick:function(){return c(i-1)},disabled:1===i,className:"pagination-button",children:Object(f.jsx)(b.a,{icon:m.c})}),function(){for(var e=[],t=function(t){e.push(Object(f.jsx)("button",{onClick:function(){return c(t)},className:i===t?"pagination-button current-pagination-button":"pagination-button",children:t},t))},n=1;n<a+1;n++)t(n);return e}(),Object(f.jsx)("button",{onClick:function(){return c(i+1)},disabled:i===a,className:"pagination-button",children:Object(f.jsx)(b.a,{icon:m.d})}),Object(f.jsx)("button",{onClick:function(){return c(a)},disabled:i===a,className:"pagination-button",children:Object(f.jsx)(b.a,{icon:m.b})})]})}n(30);var x=n(16);n(31);function p(e){var t=e.isOpen,n=e.onClose,c=e.onSubmit,i=e.data,a=void 0===i?{}:i;function l(){n()}return Object(f.jsxs)(x.a,{open:t,onClose:l,center:!0,children:[Object(f.jsx)("h2",{children:"Edit User"}),Object(f.jsxs)("form",{onSubmit:function(e){if(e.target.checkValidity()){e.preventDefault();var t,n=new FormData(e.target),i=Object(r.a)({},a),o=Object(s.a)(n.entries());try{for(o.s();!(t=o.n()).done;){var u=Object(d.a)(t.value,2),j=u[0],b=u[1];i[j]=b}}catch(m){o.e(m)}finally{o.f()}c(i),l()}},children:[Object(f.jsxs)("div",{className:"form-field",children:[Object(f.jsx)("label",{htmlFor:"name",className:"field-label",children:"Name"}),Object(f.jsx)("input",{name:"name",id:"name",type:"text",defaultValue:null===a||void 0===a?void 0:a.name,required:!0,className:"form-field-input"})]}),Object(f.jsxs)("div",{className:"form-field",children:[Object(f.jsx)("label",{htmlFor:"email",className:"field-label",children:"Email"}),Object(f.jsx)("input",{name:"email",id:"email",type:"text",defaultValue:null===a||void 0===a?void 0:a.email,required:!0,className:"form-field-input"})]}),Object(f.jsxs)("div",{className:"form-field",children:[Object(f.jsx)("label",{htmlFor:"role",className:"field-label",children:"Role"}),Object(f.jsxs)("select",{name:"role",id:"role",className:"form-field-input",children:[Object(f.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Select an Option"}),Object(f.jsx)("option",{value:"admin",selected:"admin"===(null===a||void 0===a?void 0:a.role)?"selected":"",children:"admin"}),Object(f.jsx)("option",{value:"member",selected:"member"===(null===a||void 0===a?void 0:a.role)?"selected":"",children:"member"})]})]}),Object(f.jsx)("button",{type:"submit",children:"Submit"})]})]})}function v(e){var t=e.isOpen,n=e.onClose,c=e.onSubmit;function i(){n()}return Object(f.jsxs)(x.a,{open:t,onClose:i,center:!0,children:[Object(f.jsx)("h2",{children:"Add User"}),Object(f.jsxs)("form",{onSubmit:function(e){if(e.target.checkValidity()){e.preventDefault();var t,n=new FormData(e.target),a={},l=Object(s.a)(n.entries());try{for(l.s();!(t=l.n()).done;){var r=Object(d.a)(t.value,2),o=r[0],u=r[1];a[o]=u}}catch(j){l.e(j)}finally{l.f()}c(a),i()}},children:[Object(f.jsxs)("div",{className:"form-field",children:[Object(f.jsx)("label",{className:"field-label",htmlFor:"name",children:"Name"}),Object(f.jsx)("input",{name:"name",id:"name",type:"text",required:!0,className:"form-field-input"})]}),Object(f.jsxs)("div",{className:"form-field",children:[Object(f.jsx)("label",{className:"field-label",htmlFor:"email",children:"Email"}),Object(f.jsx)("input",{name:"email",id:"email",type:"text",required:!0,className:"form-field-input"})]}),Object(f.jsxs)("div",{className:"form-field",children:[Object(f.jsx)("label",{className:"field-label",htmlFor:"role",children:"Role"}),Object(f.jsxs)("select",{name:"role",id:"role",className:"form-field-input",children:[Object(f.jsx)("option",{value:"none",selected:!0,disabled:!0,hidden:!0,children:"Select an Option"}),Object(f.jsx)("option",{value:"admin",selected:!0,children:"admin"}),Object(f.jsx)("option",{value:"member",children:"member"})]})]}),Object(f.jsx)("button",{type:"submit",children:"Submit"})]})]})}n(62);function g(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)([]),l=Object(d.a)(a,2),u=l[0],b=l[1],m=Object(c.useState)([]),x=Object(d.a)(m,2),g=x[0],N=x[1],S=Object(c.useState)(1),C=Object(d.a)(S,2),k=C[0],y=C[1],F=Object(c.useState)(null),E=Object(d.a)(F,2),w=E[0],R=E[1],D=Object(c.useState)(null),P=Object(d.a)(D,2),A=P[0],L=P[1],q=Object(c.useState)(""),U=Object(d.a)(q,2),V=U[0],I=U[1],B=Object(c.useState)({}),J=Object(d.a)(B,2),M=J[0],T=J[1],z=Object(c.useState)(!1),G=Object(d.a)(z,2),H=G[0],K=G[1],Q=Object(c.useState)(""),W=Object(d.a)(Q,2),X=W[0],Y=W[1],Z=Object(c.useState)(""),$=Object(d.a)(Z,2),_=$[0],ee=$[1];function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";I(e);var t=n.filter((function(t){for(var n in t)if(t[n].toLowerCase().indexOf(e.toLowerCase())>-1)return t}));b(t),y(1)}if(Object(c.useEffect)((function(){var e=!0;return j.a.get("https://geektrust.s3-ap-southeast-1.amazonaws.com/adminui-problem/members.json").then((function(e){return e})).then((function(t){e&&(i(t.data),b(Object(o.a)(t.data)))})),function(){return e=!1}}),[]),Object(c.useEffect)((function(){n&&te()}),[n]),Object(c.useEffect)((function(){var e;X?(e="desc"===_?Object(o.a)(u).sort((function(e,t){return e[X]<t[X]?1:-1})):Object(o.a)(u).sort((function(e,t){return e[X]<t[X]?-1:1})),b(e)):te()}),[X,_]),Object(c.useEffect)((function(){var e=10*(k-1),t=e+10,n=u.slice(e,t);N(n),K(!1),T({})}),[k,u]),null===n)return Object(f.jsx)("h2",{children:"Loading..."});return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h2",{children:"User List"}),Object(f.jsx)("input",{type:"text",onChange:function(e){return te(e.target.value)},placeholder:"Search by Name, Email or Role",className:"search-text-box"}),0===n.length||0===u.length?Object(f.jsx)("div",{children:"No Data"}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(O,{data:g,columns:["Name","Email","Role"],keys:["name","email","role"],onDelete:function(e){var t=n.filter((function(t){return t.id!==e.id}));i(t),1===g.length&&y(k-1)},onEdit:function(e){R(e)},onRecordSelectionChange:function(e,t){t?M[e]=t:delete M[e],T(Object(r.a)({},M)),K(Object.keys(M).length===g.length)},onSelectAllChange:function(e){var t={};if(e){var n,c=Object(s.a)(g);try{for(c.s();!(n=c.n()).done;){t[n.value.id]=e}}catch(i){c.e(i)}finally{c.f()}}T(t),K(e)},selectedRecords:M,selectAll:H,onSort:function(e){"desc"===_&&e===X?(ee(""),Y("")):X===e?ee("desc"):(Y(e),ee("asc")),console.log(X,_)}}),Object(f.jsx)(h,{perPageRecords:10,total:u.length,onPageChange:function(e){y(e)},currentPage:k}),Object(f.jsx)(p,{isOpen:!!w,onClose:function(){return R(!1)},onSubmit:function(e){var t=n.findIndex((function(t){return t.id===e.id}));n[t]=e,i(n),te(V)},data:w}),Object(f.jsx)(v,{isOpen:!!A,onClose:function(){return L(!1)},onSubmit:function(e){i([].concat(Object(o.a)(n),[e])),te(V)}}),Object.keys(M).length?Object(f.jsx)("button",{onClick:function(){var e=n.filter((function(e){return!M[e.id]}));i(e),T({}),Object.keys(M).length===g.length&&y(k-1),K(!1)},className:"delete-selected-btn",children:"Delete Selected"}):null,Object(f.jsx)("button",{onClick:function(){return L(!0)},className:"add-selected-btn",children:"Add User"})]})]})}n(63);var N=function(){return Object(f.jsx)("div",{className:"app",children:Object(f.jsx)(g,{})})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,65)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),c(e),i(e),a(e),l(e)}))};l.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(N,{})}),document.getElementById("root")),S()}},[[64,1,2]]]);
//# sourceMappingURL=main.9b35b83b.chunk.js.map